<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,IE=9,chrome=1"><meta name="generator" content="MATLAB 2020b"><title>Row and Column Names for Table based on Arrays</title><style type="text/css">.rtcContent { padding: 30px; } .S0 { margin: 3px 10px 5px 4px; padding: 0px; line-height: 28.8px; min-height: 0px; white-space: pre-wrap; color: rgb(213, 80, 0); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 24px; font-weight: 400; text-align: left;  }
.S1 { margin: 2px 10px 9px 4px; padding: 0px; line-height: 21px; min-height: 0px; white-space: pre-wrap; color: rgb(0, 0, 0); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 14px; font-weight: 400; text-align: left;  }
.S2 { margin: 3px 10px 5px 4px; padding: 0px; line-height: 20px; min-height: 0px; white-space: pre-wrap; color: rgb(60, 60, 60); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 20px; font-weight: 700; text-align: left;  }
.CodeBlock { background-color: #F7F7F7; margin: 10px 0 10px 0;}
.S3 { border-left: 1px solid rgb(233, 233, 233); border-right: 1px solid rgb(233, 233, 233); border-top: 1px solid rgb(233, 233, 233); border-bottom: 0px none rgb(0, 0, 0); border-radius: 4px 4px 0px 0px; padding: 6px 45px 0px 13px; line-height: 17.234px; min-height: 18px; white-space: nowrap; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px;  }
.S4 { border-left: 1px solid rgb(233, 233, 233); border-right: 1px solid rgb(233, 233, 233); border-top: 0px none rgb(0, 0, 0); border-bottom: 0px none rgb(0, 0, 0); border-radius: 0px; padding: 0px 45px 0px 13px; line-height: 17.234px; min-height: 18px; white-space: nowrap; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px;  }
.S5 { border-left: 1px solid rgb(233, 233, 233); border-right: 1px solid rgb(233, 233, 233); border-top: 0px none rgb(0, 0, 0); border-bottom: 1px solid rgb(233, 233, 233); border-radius: 0px; padding: 0px 45px 4px 13px; line-height: 17.234px; min-height: 18px; white-space: nowrap; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px;  }
.S6 { color: rgb(64, 64, 64); padding: 10px 0px 6px 17px; background: rgb(255, 255, 255) none repeat scroll 0% 0% / auto padding-box border-box; font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px; overflow-x: hidden; line-height: 17.234px;  }
.embeddedOutputsErrorElement {min-height: 18px; max-height: 250px; overflow: auto;}
.embeddedOutputsErrorElement.inlineElement {}
.embeddedOutputsErrorElement.rightPaneElement {}
.embeddedOutputsWarningElement{min-height: 18px; max-height: 250px; overflow: auto;}
.embeddedOutputsWarningElement.inlineElement {}
.embeddedOutputsWarningElement.rightPaneElement {}
.diagnosticMessage-wrapper {font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 12px;}
.diagnosticMessage-wrapper.diagnosticMessage-warningType {color: rgb(255,100,0);}
.diagnosticMessage-wrapper.diagnosticMessage-warningType a {color: rgb(255,100,0); text-decoration: underline;}
.diagnosticMessage-wrapper.diagnosticMessage-errorType {color: rgb(230,0,0);}
.diagnosticMessage-wrapper.diagnosticMessage-errorType a {color: rgb(230,0,0); text-decoration: underline;}
.diagnosticMessage-wrapper .diagnosticMessage-messagePart,.diagnosticMessage-wrapper .diagnosticMessage-causePart {white-space: pre-wrap;}
.diagnosticMessage-wrapper .diagnosticMessage-stackPart {white-space: pre;}
.embeddedOutputsTextElement,.embeddedOutputsVariableStringElement {white-space: pre; word-wrap: initial; min-height: 18px; max-height: 250px; overflow: auto;}
.textElement,.rtcDataTipElement .textElement {padding-top: 3px;}
.embeddedOutputsTextElement.inlineElement,.embeddedOutputsVariableStringElement.inlineElement {}
.inlineElement .textElement {}
.embeddedOutputsTextElement.rightPaneElement,.embeddedOutputsVariableStringElement.rightPaneElement {min-height: 16px;}
.rightPaneElement .textElement {padding-top: 2px; padding-left: 9px;}</style></head><body><div class = rtcContent><h1  class = 'S0'><span>Row and Column Names for Table based on Arrays</span></h1><div  class = 'S1'><span style=' font-weight: bold;'>back to </span><a href = "https://fanwangecon.github.io"><span style=' font-weight: bold;'>Fan</span></a><span style=' font-weight: bold;'>'s </span><a href = "https://fanwangecon.github.io/Math4Econ/"><span style=' font-weight: bold;'>Intro Math for Econ</span></a><span style=' font-weight: bold;'>,  </span><a href = "https://fanwangecon.github.io/M4Econ/"><span style=' font-weight: bold;'>Matlab Examples</span></a><span style=' font-weight: bold;'>, or </span><a href = "https://fanwangecon.github.io/MEconTools/"><span style=' font-weight: bold;'>MEconTools</span></a><span style=' font-weight: bold;'> Repositories</span></div><h2  class = 'S2'><span>Generate Table with Row and Column Names based on Multiple Numeric Array</span></h2><div  class = 'S1'><span>Two numeric arrays describe the column names, combine numeric arrays together to form string array which becomes table variable/column names.</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S3'><span style="white-space: pre;"><span>close </span><span style="color: rgb(170, 4, 249);">all</span><span>;</span></span></div></div><div class="inlineWrapper"><div  class = 'S4'></div></div><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre;"><span style="color: rgb(2, 128, 9);">% Generate Table 1</span></span></div></div><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre;"><span>ar_fl_abc1 = [0.4 0.1 0.25 0.3 0.4];</span></span></div></div><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre;"><span>ar_fl_abc2 = [0.4 0.1 0.2 0.3 0.4];</span></span></div></div><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre;"><span>number1 = </span><span style="color: rgb(170, 4, 249);">'123'</span><span>;</span></span></div></div><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre;"><span>number2 = </span><span style="color: rgb(170, 4, 249);">'456'</span><span>;</span></span></div></div><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre;"><span>mt_data_a = [ar_fl_abc1' ar_fl_abc2'];</span></span></div></div><div class="inlineWrapper"><div  class = 'S4'></div></div><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre;"><span>tb_test_a = array2table(mt_data_a);</span></span></div></div><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre;"><span>cl_col_names_a = {[</span><span style="color: rgb(170, 4, 249);">'col' </span><span>num2str(number1)], [</span><span style="color: rgb(170, 4, 249);">'col' </span><span>num2str(number2)]};</span></span></div></div><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre;"><span>cl_row_names_a = strcat(</span><span style="color: rgb(170, 4, 249);">'rowA='</span><span>, string((1:size(mt_data_a,1))));</span></span></div></div><div class="inlineWrapper"><div  class = 'S4'></div></div><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre;"><span>tb_test_a.Properties.VariableNames = cl_col_names_a;</span></span></div></div><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre;"><span>tb_test_a.Properties.RowNames = cl_row_names_a;</span></span></div></div><div class="inlineWrapper outputs"><div  class = 'S5'><span style="white-space: pre;"><span>disp(tb_test_a);</span></span></div><div  class = 'S6'><div class="inlineElement eoOutputWrapper embeddedOutputsTextElement" uid="AF16B97A" data-testid="output_0" data-width="1128" data-height="115" data-hashorizontaloverflow="false" style="width: 1158px; max-height: 261px;"><div class="textElement">              <strong>col123</strong>    <strong>col456</strong>
              <strong>______</strong>    <strong>______</strong>

    <strong>rowA=1</strong>      0.4      0.4  
    <strong>rowA=2</strong>      0.1      0.1  
    <strong>rowA=3</strong>     0.25      0.2  
    <strong>rowA=4</strong>      0.3      0.3  
    <strong>rowA=5</strong>      0.4      0.4  </div></div></div></div></div><h2  class = 'S2'><span>Include Row Names as a a String Cell Variable</span></h2><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S3'><span style="white-space: pre;"><span style="color: rgb(2, 128, 9);">% a and b must have the same row names</span></span></div></div><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre;"><span>cl_st_varrownames = tb_test_a.Properties.RowNames;</span></span></div></div><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre;"><span>tb_test_a = addvars(tb_test_a, cl_st_varrownames, </span><span style="color: rgb(170, 4, 249);">'Before'</span><span>, 1);</span></span></div></div><div class="inlineWrapper"><div  class = 'S4'></div></div><div class="inlineWrapper outputs"><div  class = 'S5'><span style="white-space: pre;"><span>disp(tb_test_a);</span></span></div><div  class = 'S6'><div class="inlineElement eoOutputWrapper embeddedOutputsTextElement" uid="8239A583" data-testid="output_1" data-width="1128" data-height="115" data-hashorizontaloverflow="false" style="width: 1158px; max-height: 261px;"><div class="textElement">              <strong>cl_st_varrownames</strong>    <strong>col123</strong>    <strong>col456</strong>
              <strong>_________________</strong>    <strong>______</strong>    <strong>______</strong>

    <strong>rowA=1</strong>       {'rowA=1'}          0.4      0.4  
    <strong>rowA=2</strong>       {'rowA=2'}          0.1      0.1  
    <strong>rowA=3</strong>       {'rowA=3'}         0.25      0.2  
    <strong>rowA=4</strong>       {'rowA=4'}          0.3      0.3  
    <strong>rowA=5</strong>       {'rowA=5'}          0.4      0.4  </div></div></div></div></div><h2  class = 'S2'><span>Include Row Names as a String Variable</span></h2><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S3'><span style="white-space: pre;"><span style="color: rgb(2, 128, 9);">% a and b must have the same row names</span></span></div></div><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre;"><span>st_varrownames = string(cl_st_varrownames);</span></span></div></div><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre;"><span>tb_test_a = addvars(tb_test_a, st_varrownames, </span><span style="color: rgb(170, 4, 249);">'Before'</span><span>, 1);</span></span></div></div><div class="inlineWrapper outputs"><div  class = 'S5'><span style="white-space: pre;"><span>disp(tb_test_a);</span></span></div><div  class = 'S6'><div class="inlineElement eoOutputWrapper embeddedOutputsTextElement" uid="03CA2033" data-testid="output_2" data-width="1128" data-height="115" data-hashorizontaloverflow="false" style="width: 1158px; max-height: 261px;"><div class="textElement">              <strong>st_varrownames</strong>    <strong>cl_st_varrownames</strong>    <strong>col123</strong>    <strong>col456</strong>
              <strong>______________</strong>    <strong>_________________</strong>    <strong>______</strong>    <strong>______</strong>

    <strong>rowA=1</strong>       "rowA=1"          {'rowA=1'}          0.4      0.4  
    <strong>rowA=2</strong>       "rowA=2"          {'rowA=2'}          0.1      0.1  
    <strong>rowA=3</strong>       "rowA=3"          {'rowA=3'}         0.25      0.2  
    <strong>rowA=4</strong>       "rowA=4"          {'rowA=4'}          0.3      0.3  
    <strong>rowA=5</strong>       "rowA=5"          {'rowA=5'}          0.4      0.4  </div></div></div></div></div><h2  class = 'S2'><span>Remove Row Names</span></h2><div  class = 'S1'><span>Remove row names</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S3'><span style="white-space: pre;"><span>tb_test_a.Properties.RowNames = {};</span></span></div></div><div class="inlineWrapper outputs"><div  class = 'S5'><span style="white-space: pre;"><span>disp(tb_test_a);</span></span></div><div  class = 'S6'><div class="inlineElement eoOutputWrapper embeddedOutputsTextElement" uid="D7582180" data-testid="output_3" data-width="1128" data-height="115" data-hashorizontaloverflow="false" style="width: 1158px; max-height: 261px;"><div class="textElement">    <strong>st_varrownames</strong>    <strong>cl_st_varrownames</strong>    <strong>col123</strong>    <strong>col456</strong>
    <strong>______________</strong>    <strong>_________________</strong>    <strong>______</strong>    <strong>______</strong>

       "rowA=1"          {'rowA=1'}          0.4      0.4  
       "rowA=2"          {'rowA=2'}          0.1      0.1  
       "rowA=3"          {'rowA=3'}         0.25      0.2  
       "rowA=4"          {'rowA=4'}          0.3      0.3  
       "rowA=5"          {'rowA=5'}          0.4      0.4  </div></div></div></div></div><h2  class = 'S2'><span>Generate String Based on Row Values and Column Names</span></h2><div  class = 'S1'><span>Suppose we are looping over meshed grid of parameter values, want to generate a KEY that is based on three of the parameters, but not the remaining parameter. One strategy is to use the current values of the three parameters, combine them with the string column names, and concatenate together. This generate a string key. </span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S3'><span style="white-space: pre;"><span>cl_ar_identifier = cell([size(tb_test_a,1), 1]);</span></span></div></div><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre;"><span style="color: rgb(14, 0, 255);">for </span><span>esti_row_idx=1:size(tb_test_a,1)</span></span></div></div><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre;"><span>    </span></span></div></div><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre;"><span>    </span><span style="color: rgb(2, 128, 9);">% Get the current row, 3rd and 4th columns</span></span></div></div><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre;"><span>    ar_fl_colvals = tb_test_a{esti_row_idx,[3,4]};</span></span></div></div><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre;"><span>    ar_st_colnames = tb_test_a.Properties.VariableNames([3,4]);</span></span></div></div><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre;"><span>    ar_st_colvals = cellfun(@(x) strtrim(x), cellstr(num2str(ar_fl_colvals')), </span><span style="color: rgb(170, 4, 249);">'UniformOutput'</span><span>, false);</span></span></div></div><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre;"><span>    ar_st_identifier = strcat(ar_st_colnames', </span><span style="color: rgb(170, 4, 249);">'='</span><span>, ar_st_colvals);</span></span></div></div><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre;"><span>    esti_identifier = strjoin(ar_st_identifier, </span><span style="color: rgb(170, 4, 249);">"#"</span><span>);</span></span></div></div><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre;"><span>    </span></span></div></div><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre;"><span>    </span><span style="color: rgb(2, 128, 9);">% add to cell</span></span></div></div><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre;"><span>    cl_ar_identifier{esti_row_idx} = esti_identifier;</span></span></div></div><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre;"><span style="color: rgb(14, 0, 255);">end</span></span></div></div><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre;"><span style="color: rgb(2, 128, 9);">% this is a group identifier</span></span></div></div><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre;"><span>ar_st_identifier = string(cl_ar_identifier);</span></span></div></div><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre;"><span>tb_test_a = addvars(tb_test_a, cl_ar_identifier, </span><span style="color: rgb(170, 4, 249);">'Before'</span><span>, 1);</span></span></div></div><div class="inlineWrapper"><div  class = 'S4'><span style="white-space: pre;"><span>tb_test_a = addvars(tb_test_a, ar_st_identifier, </span><span style="color: rgb(170, 4, 249);">'Before'</span><span>, 1);</span></span></div></div><div class="inlineWrapper outputs"><div  class = 'S5'><span style="white-space: pre;"><span>disp(tb_test_a);</span></span></div><div  class = 'S6'><div class="inlineElement eoOutputWrapper embeddedOutputsTextElement" uid="EECC82DB" data-testid="output_4" data-width="1128" data-height="115" data-hashorizontaloverflow="false" style="width: 1158px; max-height: 261px;"><div class="textElement">        <strong>ar_st_identifier</strong>             <strong>cl_ar_identifier</strong>         <strong>st_varrownames</strong>    <strong>cl_st_varrownames</strong>    <strong>col123</strong>    <strong>col456</strong>
    <strong>________________________</strong>    <strong>__________________________</strong>    <strong>______________</strong>    <strong>_________________</strong>    <strong>______</strong>    <strong>______</strong>

    "col123=0.4#col456=0.4"     {'col123=0.4#col456=0.4' }       "rowA=1"          {'rowA=1'}          0.4      0.4  
    "col123=0.1#col456=0.1"     {'col123=0.1#col456=0.1' }       "rowA=2"          {'rowA=2'}          0.1      0.1  
    "col123=0.25#col456=0.2"    {'col123=0.25#col456=0.2'}       "rowA=3"          {'rowA=3'}         0.25      0.2  
    "col123=0.3#col456=0.3"     {'col123=0.3#col456=0.3' }       "rowA=4"          {'rowA=4'}          0.3      0.3  
    "col123=0.4#col456=0.4"     {'col123=0.4#col456=0.4' }       "rowA=5"          {'rowA=5'}          0.4      0.4  </div></div></div></div></div></div>
<br>
<!-- 
##### SOURCE BEGIN #####
%% Row and Column Names for Table based on Arrays
% *back to* <https://fanwangecon.github.io *Fan*>*'s* <https://fanwangecon.github.io/Math4Econ/ 
% *Intro Math for Econ*>*,*  <https://fanwangecon.github.io/M4Econ/ *Matlab Examples*>*, 
% or* <https://fanwangecon.github.io/MEconTools/ *MEconTools*> *Repositories*
%% Generate Table with Row and Column Names based on Multiple Numeric Array
% Two numeric arrays describe the column names, combine numeric arrays together 
% to form string array which becomes table variable/column names.

close all;

% Generate Table 1
ar_fl_abc1 = [0.4 0.1 0.25 0.3 0.4];
ar_fl_abc2 = [0.4 0.1 0.2 0.3 0.4];
number1 = '123';
number2 = '456';
mt_data_a = [ar_fl_abc1' ar_fl_abc2'];

tb_test_a = array2table(mt_data_a);
cl_col_names_a = {['col' num2str(number1)], ['col' num2str(number2)]};
cl_row_names_a = strcat('rowA=', string((1:size(mt_data_a,1))));

tb_test_a.Properties.VariableNames = cl_col_names_a;
tb_test_a.Properties.RowNames = cl_row_names_a;
disp(tb_test_a);
%% Include Row Names as a a String Cell Variable

% a and b must have the same row names
cl_st_varrownames = tb_test_a.Properties.RowNames;
tb_test_a = addvars(tb_test_a, cl_st_varrownames, 'Before', 1);

disp(tb_test_a);
%% Include Row Names as a String Variable

% a and b must have the same row names
st_varrownames = string(cl_st_varrownames);
tb_test_a = addvars(tb_test_a, st_varrownames, 'Before', 1);
disp(tb_test_a);
%% Remove Row Names
% Remove row names

tb_test_a.Properties.RowNames = {};
disp(tb_test_a);
%% Generate String Based on Row Values and Column Names
% Suppose we are looping over meshed grid of parameter values, want to generate 
% a KEY that is based on three of the parameters, but not the remaining parameter. 
% One strategy is to use the current values of the three parameters, combine them 
% with the string column names, and concatenate together. This generate a string 
% key. 

cl_ar_identifier = cell([size(tb_test_a,1), 1]);
for esti_row_idx=1:size(tb_test_a,1)
    
    % Get the current row, 3rd and 4th columns
    ar_fl_colvals = tb_test_a{esti_row_idx,[3,4]};
    ar_st_colnames = tb_test_a.Properties.VariableNames([3,4]);
    ar_st_colvals = cellfun(@(x) strtrim(x), cellstr(num2str(ar_fl_colvals')), 'UniformOutput', false);
    ar_st_identifier = strcat(ar_st_colnames', '=', ar_st_colvals);
    esti_identifier = strjoin(ar_st_identifier, "#");
    
    % add to cell
    cl_ar_identifier{esti_row_idx} = esti_identifier;
end
% this is a group identifier
ar_st_identifier = string(cl_ar_identifier);
tb_test_a = addvars(tb_test_a, cl_ar_identifier, 'Before', 1);
tb_test_a = addvars(tb_test_a, ar_st_identifier, 'Before', 1);
disp(tb_test_a);
##### SOURCE END #####
--></body></html>